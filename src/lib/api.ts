export async function convertCurrency(fromCurrency: string, toCurrency: string, amount: number) {
	const url = `https://currency-converter48.p.rapidapi.com/latest?from=${fromCurrency}&to=${toCurrency}&amount=${amount}`;
	const options = {
		method: 'GET',
		headers: {
			'x-rapidapi-key':
				import.meta.env.VITE_RAPIDAPI_KEY || 'd44235d736mshfbe84b025a5ef0ap19c4d3jsnc56e06b113cd',
			'x-rapidapi-host': 'currency-conversion-and-exchange-rates.p.rapidapi.com'
		}
	};

	try {
		const response = await fetch(url, options);
		const result = await response.json();
		const convertedAmount = (amount / result.rates[fromCurrency]) * result.rates[toCurrency];

		return {
			result: convertedAmount,
			timestamp: result.timestamp,
			date: result.date
		};
	} catch (error) {
		console.error('Currency conversion error:', error);
		return error;
	}
}

export const CURRENCIES = [
	...new Set([
		'USD',
		'EUR',
		'GBP',
		'JPY',
		'CAD',
		'AUD',
		'CHF',
		'CNY',
		'HKD',
		'SGD',
		'ANG',
		'SVC',
		'XCD',
		'MVR',
		'HRK',
		'MWK',
		'XAG',
		'MAD',
		'PHP',
		'NAD',
		'GNF',
		'KES',
		'MZN',
		'BTN',
		'MGA',
		'AZN',
		'XAU',
		'RON',
		'EGP',
		'BSD',
		'TWD',
		'GGP',
		'LVL',
		'MMK',
		'WST',
		'ILS',
		'BHD',
		'TZS',
		'SDG',
		'LAK',
		'DJF',
		'BYN',
		'LBP',
		'RWF',
		'PEN',
		'ZMK',
		'RSD',
		'INR',
		'MUR',
		'BWP',
		'GEL',
		'KMF',
		'UZS',
		'RUB',
		'CUC',
		'BGN',
		'JOD',
		'NGN',
		'BDT',
		'PKR',
		'BRL',
		'KZT',
		'CVE',
		'HNL',
		'NZD',
		'ERN',
		'NPR',
		'ZMW',
		'FKP',
		'DZD',
		'JMD',
		'CRC',
		'GMD',
		'PLN',
		'AMD',
		'BMD',
		'BZD',
		'BBD',
		'SBD',
		'IDR',
		'ALL',
		'IQD',
		'BIF',
		'GIP',
		'BAM',
		'LKR',
		'QAR',
		'SAR',
		'TOP',
		'SEK',
		'ZAR',
		'ARS',
		'MYR',
		'BYR',
		'KPW',
		'CZK',
		'STD',
		'BTC',
		'ZWL',
		'LSL',
		'COP',
		'PAB',
		'IRR',
		'CNH',
		'NOK',
		'XPF',
		'XOF',
		'OMR',
		'XDR',
		'AOA',
		'SCR',
		'MOP',
		'NIO',
		'ISK',
		'VND',
		'VES',
		'UYU',
		'MRU',
		'UGX',
		'DOP',
		'UAH',
		'BOB',
		'TTD',
		'KGS',
		'TND',
		'TMT',
		'GHS',
		'TJS',
		'KHR',
		'ETB',
		'PGK',
		'THB',
		'AED',
		'GTQ',
		'LRD',
		'SYP',
		'KYD',
		'SRD',
		'HTG',
		'LYD',
		'SLL',
		'SLE',
		'SHP',
		'IMP',
		'FJD',
		'PYG',
		'KRW',
		'SZL',
		'GYD',
		'MDL',
		'MXN',
		'CLP',
		'LTL',
		'SOS',
		'MNT',
		'AFN',
		'CUP',
		'CLF',
		'TRY',
		'YER',
		'HUF',
		'BND',
		'JEP',
		'MKD',
		'AWG',
		'CDF',
		'VUV',
		'XAF',
		'KWD',
		'DKK'
	])
];
